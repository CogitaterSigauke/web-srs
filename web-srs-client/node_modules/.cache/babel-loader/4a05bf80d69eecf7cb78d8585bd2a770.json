{"ast":null,"code":"var _jsxFileName = \"/home/fr/projects/web-srs/web-srs-client/src/pages/login.js\";\nimport React, { Component } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport AppIcon from '../images/icon.png';\nimport GoogleLogin from \"react-google-login\";\nimport { Link } from 'react-router-dom'; //MUI \n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport { connect } from 'react-redux';\nimport { loginUser } from '../redux/actions/userActions';\nconst styles = {\n  typography: {\n    useNextVariants: true\n  },\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 20px auto'\n  },\n  pageTitle: {\n    margin: '10px auto 10px auto'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: 'relative'\n  }\n};\n\nclass login extends Component {\n  constructor() {\n    super();\n\n    this.handleGoogleFailure = res => {\n      console.log(\"Error \", res.data);\n    };\n\n    this.handleGoogleResponse = res => {\n      const {\n        name,\n        email,\n        familyName,\n        imageUrl\n      } = res.profileObj;\n      const userData = {\n        name,\n        email,\n        familyName,\n        profileUrl: imageUrl\n      };\n      this.props.loginUser(userData, this.props.history, res.tokenId);\n    };\n\n    this.setState({\n      authenticated: false\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({\n        errors: nextProps.UI.errors\n      });\n    }\n  }\n\n  render() {\n    const {\n      classes,\n      UI: {\n        loading\n      }\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: AppIcon,\n      alt: \"RealiseApp icon\",\n      className: classes.image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h3\",\n      className: classes.pageTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin, {\n      clientId: \"181796502496-jop5gvuieb2kkc0mijivmnocegukl17c.apps.googleusercontent.com\",\n      buttonText: \"Sign in with Google\",\n      scope: \"profile email\",\n      width: \"240\",\n      height: \"50\",\n      longtitle: \"true\",\n      theme: \"dark\",\n      onSuccess: this.handleGoogleResponse,\n      onFailure: this.handleGoogleFailure,\n      cookiePolicy: \"single_host_origin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 25\n      }\n    }, \"dont have an account ? \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 54\n      }\n    }), \"sign up \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 39\n      }\n    }, \"here\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 30\n      }\n    }))))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\n;\nlogin.propTypes = {\n  classes: PropTypes.object.isRequired,\n  loginUser: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  loginUser\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(login));","map":{"version":3,"sources":["/home/fr/projects/web-srs/web-srs-client/src/pages/login.js"],"names":["React","Component","withStyles","PropTypes","AppIcon","GoogleLogin","Link","Grid","Typography","Card","connect","loginUser","styles","typography","useNextVariants","form","textAlign","image","margin","pageTitle","textField","button","marginTop","position","login","constructor","handleGoogleFailure","res","console","log","data","handleGoogleResponse","name","email","familyName","imageUrl","profileObj","userData","profileUrl","props","history","tokenId","setState","authenticated","componentWillReceiveProps","nextProps","UI","errors","render","classes","loading","handleSubmit","propTypes","object","isRequired","func","user","mapStateToProps","state","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport PropTypes from 'prop-types';\nimport AppIcon from '../images/icon.png';\nimport GoogleLogin from \"react-google-login\";\nimport { Link } from 'react-router-dom';\n//MUI \n\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\n\nimport { connect } from 'react-redux';\nimport { loginUser } from '../redux/actions/userActions';\n\nconst styles = {\n  typography: {\n    useNextVariants: true\n  },\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 20px auto'\n  },\n  pageTitle: {\n    margin: '10px auto 10px auto'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: 'relative'\n  },\n}\nclass login extends Component {\n\n    constructor(){\n        super();\n        this.setState({\n            authenticated: false\n        })\n         \n    };\n    componentWillReceiveProps(nextProps) {\n      if (nextProps.UI.errors) {\n        this.setState({ errors: nextProps.UI.errors });\n      }\n    }\n\n    handleGoogleFailure = (res) => {\n      console.log(\"Error \",res.data);\n    }\n    handleGoogleResponse = (res) => {\n        \n        const { name, email, familyName, imageUrl} = res.profileObj;\n        const userData = {\n          name,\n          email,\n          familyName,\n          profileUrl: imageUrl\n        }\n        this.props.loginUser(userData, this.props.history, res.tokenId);\n    \n               \n    };\n\n    render() {\n        const { classes,  UI: { loading } } = this.props;\n        return(\n            <Grid container >\n                <Grid item sm/>\n              \n                <Grid item sm>\n                <br/>\n                <br/>\n                <br/>\n                <br/>\n                <br/>\n                  <Card>\n                  \n                    <img src={AppIcon} alt=\"RealiseApp icon\" className={classes.image}/>\n                    <Typography variant=\"h3\" className={classes.pageTitle}>\n                        Sign In\n                    </Typography>\n\n                    <form noValidate onSubmit={this.handleSubmit}>\n                      <GoogleLogin\n                          clientId=\"181796502496-jop5gvuieb2kkc0mijivmnocegukl17c.apps.googleusercontent.com\"\n                          buttonText=\"Sign in with Google\"\n                          scope='profile email'\n                          width='240'\n                          height='50'\n                          longtitle='true'\n                          theme='dark'\n                          onSuccess={this.handleGoogleResponse}\n                          onFailure={this.handleGoogleFailure}\n                          cookiePolicy={\"single_host_origin\"}\n                        />\n                        <br />\n                        <br />\n\n                        <small >\n                              dont have an account ? <br /> \n                              sign up <Link to=\"/signup\">here</Link>\n                              <br />\n                              <br/>\n                             <br/>\n                              \n                        </small>                        \n                    </form>\n                    \n                  </Card>\n                </Grid>\n                <Grid item sm/>\n            </Grid>\n        );\n    };\n\n};\n\nlogin.propTypes = {\n  classes: PropTypes.object.isRequired,\n  loginUser: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  loginUser\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(login));"]},"metadata":{},"sourceType":"module"}