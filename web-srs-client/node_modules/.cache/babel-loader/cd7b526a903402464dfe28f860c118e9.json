{"ast":null,"code":"var _jsxFileName = \"/home/fr/projects/web-srs/web-srs-client/src/pages/review.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FlashCard from '../components/FlashCard';\nimport Module from '../components/Module'; // MATERIAL UI\n\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button'; // REDUX\n\nimport { connect } from 'react-redux';\nimport { selectModule } from '../redux/actions/dataActions';\nimport { deselectModule } from '../redux/actions/dataActions'; // import store from './../redux/store';\n// import { SET_ERRORS } from './../redux/types';\n\nimport axios from 'axios';\nconst styles = {\n  typography: {\n    useNextVariants: true\n  },\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 20px auto'\n  },\n  pageTitle: {\n    margin: '100px auto 10px auto'\n  },\n  pageTitle2: {\n    margin: '30px auto 10px auto'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: 'relative'\n  }\n};\n\nclass review extends Component {\n  constructor() {\n    super();\n\n    this.getModules = () => {\n      const userId = this.props.userId;\n      console.log(\"MuserId \", userId);\n      axios.get(`/module/user/${userId}`).then(res => {\n        this.setState({\n          modules: res.data\n        });\n      }).catch(err => {\n        console.log(\"Module Error\", err);\n      });\n    };\n\n    this.handleSelectedModule = event => {\n      console.log(\"selected Modules <>\", this.props.selectedModules);\n      let cardIds = [];\n      let mod;\n\n      for (mod of this.props.selectedModules) {\n        // const aa = mod.cardIds;\n        console.log(\"cardIds ==> \", cardIds);\n        cardIds = cardIds.concat(mod.cardIds);\n        console.log(\"mod.cardIds ==> \", mod.cardIds);\n        console.log(\"cardIds ==> \", cardIds);\n      }\n\n      console.log(\"cardIds: \", cardIds);\n      axios.post(\"/card/cardIds\", {\n        cardIds\n      }).then(res => {\n        console.log(\"cards fetched\", res.data);\n        this.setState({\n          cards: res.data\n        });\n      }).catch(err => {\n        console.log(\"Card Error\", err);\n      });\n    };\n\n    this.handleSelectedCard = event => {\n      console.log(\"selectedCards  ==> \", this.props.selectedCards);\n    };\n\n    this.state = {\n      front: \"\",\n      back: \"\",\n      cardIds: [],\n      userId: \"\",\n      modules: [],\n      cards: []\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.authenticated || !this.props.userId) {\n      this.props.history.push(\"/login\");\n    }\n\n    this.setState({\n      userId: this.props.userId\n    });\n    this.getModules();\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      className: classes.form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: true,\n      className: \"sm-grid-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      className: classes.pageTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, \"Modules\"), this.state.modules.map((module, i) => /*#__PURE__*/React.createElement(\"div\", {\n      key: i,\n      onClick: this.handleSelectedModule,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Module, {\n      module: module,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: true,\n      className: \"sm-grid-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h2\",\n      className: classes.pageTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }\n    }, \"FlashCards\"), this.state.cards.map((card, i) => /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.handleSelectedCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(FlashCard, {\n      card: card,\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nreview.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  user: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  authenticated: state.user.authenticated,\n  userId: state.user.id,\n  selectedModules: state.data.selectedModules\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(review));","map":{"version":3,"sources":["/home/fr/projects/web-srs/web-srs-client/src/pages/review.js"],"names":["React","Component","PropTypes","FlashCard","Module","withStyles","Grid","Typography","Card","TextField","Button","connect","selectModule","deselectModule","axios","styles","typography","useNextVariants","form","textAlign","image","margin","pageTitle","pageTitle2","textField","button","marginTop","position","review","constructor","getModules","userId","props","console","log","get","then","res","setState","modules","data","catch","err","handleSelectedModule","event","selectedModules","cardIds","mod","concat","post","cards","handleSelectedCard","selectedCards","state","front","back","componentDidMount","authenticated","history","push","render","classes","map","module","i","card","propTypes","object","isRequired","user","mapStateToProps","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FlashCard from '../components/FlashCard';\nimport Module from '../components/Module';\n\n// MATERIAL UI\n\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Card from '@material-ui/core/Card';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\n// REDUX\n\nimport { connect } from 'react-redux';\nimport { selectModule } from '../redux/actions/dataActions';\nimport { deselectModule } from '../redux/actions/dataActions';\n\n// import store from './../redux/store';\n// import { SET_ERRORS } from './../redux/types';\n\nimport axios from 'axios';\n\n\nconst styles = {\n  typography: {\n    useNextVariants: true\n  },\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 20px auto'\n  },\n  pageTitle: {\n    margin: '100px auto 10px auto'\n  },\n  pageTitle2: {\n    margin: '30px auto 10px auto'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: 'relative'\n  },\n}\n\nclass review extends Component {\n\n  constructor(){\n    super();\n    this.state = {\n\n      front: \"\",\n      back: \"\",\n      cardIds: [],\n      userId: \"\",\n      modules: [],\n      cards: []\n\n    }\n    \n  };\n\n  componentDidMount(){\n    if(!this.props.authenticated || !this.props.userId){\n      this.props.history.push(\"/login\");\n    }\n    this.setState({\n      userId: this.props.userId\n    })\n    this.getModules();\n  }\n\n  getModules = () => {\n    const userId  = this.props.userId;\n    console.log(\"MuserId \", userId);\n    axios.get(`/module/user/${userId}`)\n      .then(res => {\n        this.setState({\n          modules: res.data\n        })\n      }).catch((err) => {\n        console.log(\"Module Error\", err);\n      })\n  }\n\n  handleSelectedModule = (event) => {\n  \n    console.log(\"selected Modules <>\", this.props.selectedModules);\n    let cardIds = [];\n    let mod;\n    for( mod of this.props.selectedModules){\n      // const aa = mod.cardIds;\n      console.log(\"cardIds ==> \", cardIds);\n      cardIds = cardIds.concat(mod.cardIds);\n      console.log(\"mod.cardIds ==> \", mod.cardIds);\n      console.log(\"cardIds ==> \", cardIds);\n\n    }\n    console.log(\"cardIds: \", cardIds);\n    axios.post(\"/card/cardIds\", {cardIds})\n    .then(res => {\n      console.log(\"cards fetched\", res.data);\n      this.setState({\n        cards: res.data\n      })\n     \n    }).catch((err) => {\n      console.log(\"Card Error\", err);\n    })\n    \n  }\n\n  handleSelectedCard = (event) => {\n    console.log(\"selectedCards  ==> \", this.props.selectedCards);\n  }\n\n    render() {\n        const {classes} = this.props;\n       return (\n                         \n        <Grid container className={classes.form}>\n          <Grid item sm className=\"sm-grid-right\">\n          <Typography variant=\"h2\" className={classes.pageTitle}>\n            \n            Modules\n          </Typography>\n            {this.state.modules.map((module, i) => (\n              <div key={i} onClick={this.handleSelectedModule}>\n                <Module module={module} /> \n              </div>\n              )  \n            )}\n        </Grid>\n\n        <Grid item sm className=\"sm-grid-left\">\n          <Typography variant=\"h2\" className={classes.pageTitle}>\n            FlashCards\n          </Typography>\n          {this.state.cards.map((card, i) => (\n              <div onClick={this.handleSelectedCard} >\n                <FlashCard card={card} key={i}/> \n                <br/>\n              </div>\n              \n            )  \n          )}\n        </Grid>\n\n        \n      </Grid>\n          \n        );\n    }\n}\n\nreview.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  user: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  authenticated: state.user.authenticated,\n  userId: state.user.id,\n  selectedModules: state.data.selectedModules\n});\n\n\nexport default connect(mapStateToProps)(withStyles(styles)(review));\n\n"]},"metadata":{},"sourceType":"module"}