{"ast":null,"code":"var _jsxFileName = \"/home/fr/projects/web-srs/web-srs-client/src/App.js\";\nimport React, { Component } from 'react'; // import logo from './logo.svg';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport './App.css';\nimport login from './pages/login';\nimport addCard from './pages/addCard';\nimport signup from './pages/signup';\nimport admin from './pages/admin';\nimport review from './pages/review';\nimport home from './pages/home';\nimport AuthRoute from './util/AuthRoute';\nimport axios from 'axios';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { SET_AUTHENTICATED } from './redux/types';\nimport { logoutUser, getUserDetails } from './redux/actions/userActions';\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport themeObject from './util/theme';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'; // import { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles;\n\nimport jwtDecode from 'jwt-decode';\naxios.defaults.baseURL = \"http://localhost:8080/api\";\nconst theme = createMuiTheme(themeObject);\nconst token = localStorage.tokenId;\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = '/login';\n  } else {\n    store.dispatch({\n      type: SET_AUTHENTICATED\n    });\n    axios.defaults.headers.common['Authorization'] = token;\n    const userData = {\n      name: decodedToken.name,\n      email: decodedToken.email,\n      familyName: decodedToken.family_name\n    };\n    store.dispatch(getUserDetails(userData));\n  }\n}\n\nclass App extends Component {\n  render() {\n    return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      theme: theme,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Provider, {\n      store: store,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      history: this.props.history,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(AuthRoute, {\n      exact: true,\n      path: \"/login\",\n      component: login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(AuthRoute, {\n      exact: true,\n      path: \"/signup\",\n      component: signup,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/addCard\",\n      component: addCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/review\",\n      component: review,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/admin\",\n      component: admin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 19\n      }\n    })))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/fr/projects/web-srs/web-srs-client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Navbar","login","addCard","signup","admin","review","home","AuthRoute","axios","Provider","store","SET_AUTHENTICATED","logoutUser","getUserDetails","MuiThemeProvider","themeObject","createMuiTheme","jwtDecode","defaults","baseURL","theme","token","localStorage","tokenId","decodedToken","exp","Date","now","dispatch","window","location","href","type","headers","common","userData","name","email","familyName","family_name","App","render","props","history"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n// import logo from './logo.svg';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport './App.css';\nimport login   from './pages/login';\nimport addCard from './pages/addCard';\nimport signup  from './pages/signup';\nimport admin  from './pages/admin'; \nimport review  from './pages/review';\nimport home    from './pages/home';\nimport AuthRoute from './util/AuthRoute';\nimport axios from 'axios';\n\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport { SET_AUTHENTICATED } from './redux/types';\nimport {logoutUser, getUserDetails} from './redux/actions/userActions';\n\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider';\nimport themeObject from './util/theme';\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme';\n// import { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles;\nimport jwtDecode from 'jwt-decode';\n\n\naxios.defaults.baseURL = \"http://localhost:8080/api\";\n\nconst theme = createMuiTheme(themeObject);\n\nconst token = localStorage.tokenId;\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = '/login';\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common['Authorization'] = token;\n    const userData = {\n      name: decodedToken.name,\n      email: decodedToken.email,\n      familyName: decodedToken.family_name,\n    };\n    store.dispatch(getUserDetails(userData));\n  }\n}\n\nclass App extends Component {\n  render() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <div className=\"App\">\n            <Router>\n              <Navbar history={this.props.history}/>\n              <div className=\"container\">\n                <Switch>  \n                  <Route exact path=\"/\" component={home}/>\n                  <AuthRoute exact path=\"/login\" component={login}/>\n                  <AuthRoute exact path=\"/signup\" component={signup}/>                  \n                  <Route exact path=\"/addCard\" component={addCard}/>\n                  <Route exact path=\"/review\" component={review}/>\n                  <Route exact path=\"/admin\" component={admin}/>     \n                </Switch>\n              </div>\n            </Router>\n        </div>\n      </Provider>      \n    </MuiThemeProvider>\n  );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}